(function(){"use strict";function b(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function c(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function d(a){for(var b,d=1;d<arguments.length;d++)b=null==arguments[d]?{}:arguments[d],d%2?c(Object(b),!0).forEach(function(c){e(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):c(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function e(a,b,c){return b=f(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){var b=g(a,"string");return"symbol"==typeof b?b:b+""}function g(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var h,i,j,k,l;(()=>{var a=window.LitElement||Object.getPrototypeOf(customElements.get("ha-panel-lovelace")||customElements.get("hc-lovelace")),{html:f,css:c}=a.prototype;customElements.define("person-entity-card",class extends a{static get properties(){return{hass:{},config:{}}}handleTap(a,b,c){c||((b,c,e,f)=>{var g;switch(f.action){case"more-info":g=new Event("hass-more-info",{composed:!0}),g.detail={entityId:f.entity||e.entity},b.dispatchEvent(g);break;case"navigate":if(!f.navigation_path)return;history.pushState(null,"",f.navigation_path),g=new Event("location-changed",{composed:!0}),g.detail={replace:!1},window.dispatchEvent(g);break;case"call-service":if(!f.service)return;var[h,i]=f.service.split(".",2),j=d({},f.service_data);c.callService(h,i,j)}})(this,this._hass,this.config,{action:"more-info",entity:b})}setConfig(a){if(!a.entities)throw new Error("You need to define entities");this.config=a}_toggle(a){var{entity_id:b}=a;this.hass.callService("homeassistant","toggle",{entity_id:b})}static get styles(){return c(h||(h=b(["\n      ha-card {\n        background: none;\n        border: none;\n        box-shadow: none;\n        font-family: inherit, Inter, -apple-system, BlinkMacSystemFont,\n          \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", sans-serif;\n        padding-left: 0.5rem;\n        padding-right: 0.5rem;\n      }\n\n      .person-entity-title {\n        font-size: 0.9375rem;\n      }\n\n      .person-entity {\n        display: flex;\n        gap: 1rem;\n      }\n\n      .person-entity--centered > .person-entity {\n        justify-content: center;\n      }\n\n      .person-entity--centered > .person-entity-title {\n        text-align: center;\n      }\n\n      .person-entity-chip {\n        align-items: center;\n        background-color: var(--card-background-color);\n        border: thin solid var(--primary-color);\n        border-radius: 1.5625rem;\n        cursor: pointer;\n        display: flex;\n        font-weight: bold;\n        height: 2.5rem;\n        justify-content: flex-start;\n        line-height: 2.5rem;\n        padding: 0 1rem 0 1px;\n        overflow: hidden;\n        width: auto;\n      }\n\n      .person-entity-chip.no-action {\n        cursor: default;\n      }\n\n      .person-entity-chip > img {\n        border-radius: 100%;\n        height: auto;\n        margin-right: 1rem;\n        width: 2.3125rem;\n      }\n\n      .person-entity-chip > span {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    "])))}renderTitle(a){return""===a?"":f(i||(i=b(["\n        <p class=\"person-entity-title\"><strong>","</strong></p>\n      "])),a)}renderPeople(c){var d=Object.keys(c),{language:e,resources:g}=this.hass,{showAtHome:h,disableAction:i}=this.config,l=g[e];return f(j||(j=b(["\n      ","\n    "])),d.map(a=>("home"!==c[a].state||h)&&"unknown"!==c[a].state?f(k||(k=b(["\n              <div\n                class=\"person-entity-chip","\"\n                @click=","\n              >\n                <img src=\"","\" />\n                <span\n                  >","\n                </span>\n              </div>\n            "])),i?" no-action":"",b=>this.handleTap(b,a,i),c[a].attributes.entity_picture,"home"===c[a].state||"not_home"===c[a].state?l["component.person.entity_component._.state.".concat(c[a].state)]:c[a].state):""))}render(){var{hass:d}=this,{centered:h=!1,entities:e,showAtHome:i=!1,title:g}=this.config,j=new RegExp("^(".concat(e.toString().replaceAll(",","|"),")$")),k=Object.keys(d.states).filter(a=>null!==a.match(j)).reduce((a,b)=>Object.assign(a,{[b]:d.states[b]}),{}),a=!0;return Object.keys(k).map(b=>"home"!==k[b].state||i?a=!1:""),a?"":f(l||(l=b(["\n          <ha-card class=",">\n            ","\n            <div class=\"person-entity\">","</div>\n          </ha-card>\n        "])),h?"person-entity--centered":"",this.renderTitle(g),this.renderPeople(k))}})})()})();
